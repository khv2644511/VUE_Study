<template>
  <div>
    <v-btn @click="increment">{{ store.count }}</v-btn>
    <div>doubleValue : {{ doubleValue }}</div>
    <div>name : {{ name }}</div>
    <div>doubleCount : {{ doubleCount }}</div>
    <div>store : store{{ store }}</div>
  </div>
</template>

<script setup lang="ts">
// https://pinia.vuejs.kr/core-concepts/

import { useCounterStore } from "@/store/counter";
import { storeToRefs } from "pinia";
import { computed } from "vue";

// ì»´í¬ë„ŒíŠ¸ ì–´ë””ì—ì„œë‚˜ `store` ë³€ìˆ˜ì— ì•¡ì„¸ìŠ¤ âœ¨
const store = useCounterStore();

// âŒ ë°˜ì‘ì„±ì„ ê¹¨ëœ¨ë¦¬ê¸° ë•Œë¬¸ì— ì‘ë™í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.
// `props`ì—ì„œ ë””ìŠ¤íŠ¸ëŸ­ì²˜ë§í•˜ëŠ” ê²ƒê³¼ ë™ì¼í•©ë‹ˆë‹¤.
// const { name, doubleCount } = store;
// name; // ì–¸ì œë‚˜ "Eduardo"
// doubleCount; // ì–¸ì œë‚˜ 0

// âœ… ì´ê²ƒì€ ë°˜ì‘ì ì¼ ê²ƒì…ë‹ˆë‹¤
// ğŸ’¡ ë˜í•œ `store.doubleCount`ë¡œ ì§ì ‘ ì‚¬ìš©í•  ìˆ˜ë„ ìˆìŠµë‹ˆë‹¤.
const doubleValue = computed(() => store.doubleCount);

// `name`ê³¼ `doubleCount`ëŠ” ë°˜ì‘í˜• refsì„.
// ì´ê²ƒì€ í”ŒëŸ¬ê·¸ì¸ì— ì˜í•´ ì¶”ê°€ëœ ì†ì„±ì— ëŒ€í•œ 'refs'ë„ ì¶”ì¶œí•¨.
// ê·¸ëŸ¬ë‚˜ ëª¨ë“  ì•¡ì…˜ ë˜ëŠ” ë¹„ë°˜ì‘í˜•(ref/ë°˜ì‘í˜•ì´ ì•„ë‹Œ) ì†ì„±ì„ ê±´ë„ˆëœ€.
const { name, doubleCount } = storeToRefs(store);
// increment ì•¡ì…˜ì€ ê·¸ëƒ¥ êµ¬ì¡°í™” ê°€ëŠ¥.
const { increment } = store;
</script>
